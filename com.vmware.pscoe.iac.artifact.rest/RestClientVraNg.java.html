<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RestClientVraNg.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">artifact-manager</a> &gt; <a href="index.source.html" class="el_package">com.vmware.pscoe.iac.artifact.rest</a> &gt; <span class="el_source">RestClientVraNg.java</span></div><h1>RestClientVraNg.java</h1><pre class="source lang-java linenums">package com.vmware.pscoe.iac.artifact.rest;

/*
 * #%L
 * artifact-manager
 * %%
 * Copyright (C) 2023 VMware
 * %%
 * Build Tools for VMware Aria
 * Copyright 2023 VMware, Inc.
 * 
 * This product is licensed to you under the BSD-2 license (the &quot;License&quot;). You may not use this product except in compliance with the BSD-2 License.  
 * 
 * This product may include a number of subcomponents with separate copyright notices and license terms. Your use of these subcomponents is subject to the terms and conditions of the subcomponent's license, as noted in the LICENSE file.
 * #L%
 */

import java.io.File;
import java.net.URISyntaxException;
import java.util.List;
import java.util.Map;
import java.util.LinkedHashMap;
import java.util.stream.Collectors;

import com.google.gson.JsonArray;
import com.google.gson.JsonObject;
import com.vmware.pscoe.iac.artifact.model.abx.AbxAction;
import com.vmware.pscoe.iac.artifact.model.abx.AbxActionVersion;
import com.vmware.pscoe.iac.artifact.model.abx.AbxConstant;

import com.vmware.pscoe.iac.artifact.model.vrang.VraNgApprovalPolicy;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgBlueprint;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgCatalogEntitlement;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgCatalogItem;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgCloudAccount;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgContentSharingPolicy;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgContentSource;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgContentSourceBase;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgCustomForm;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgCustomResource;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgDay2ActionsPolicy;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgDeploymentLimitPolicy;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgFlavorMapping;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgImageMapping;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgIntegration;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgLeasePolicy;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgProject;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgPropertyGroup;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgRegion;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgResourceAction;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgResourceQuotaPolicy;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgSecret;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgStorageProfile;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgSubscription;
import com.vmware.pscoe.iac.artifact.model.vrang.VraNgWorkflowContentSource;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.http.ResponseEntity;
import org.springframework.web.client.RestTemplate;
import org.springframework.web.client.HttpClientErrorException;

import com.vmware.pscoe.iac.artifact.configuration.ConfigurationVraNg;

public class RestClientVraNg extends RestClientVraNgPrimitive {
	/**
	 * logger.
	 */
<span class="nc" id="L69">	private final Logger logger = LoggerFactory.getLogger(RestClientVraNg.class);</span>

	/**
	 * Constructor for RestClientVraNg.
	 * 
	 * @param configuration configuration vra
	 * @param restTemplate rest template
	 */
	protected RestClientVraNg(final ConfigurationVraNg configuration, final RestTemplate restTemplate) {
<span class="nc" id="L78">		super(configuration, restTemplate);</span>
<span class="nc" id="L79">	}</span>

	// =================================================
	// ICON OPERATIONS
	// =================================================

	/**
	 * downloadIcon.
	 * 
	 * @param iconId icon id
	 * @return ResponseEntity
	 */
	public ResponseEntity&lt;byte[]&gt; downloadIcon(final String iconId) {
		try {
<span class="nc" id="L93">			return downloadIconPrimitive(iconId);</span>
<span class="nc" id="L94">		} catch (Exception e) {</span>
<span class="nc" id="L95">			throw new RuntimeException(String.format(&quot;Could not fetch icon with id '%s'.&quot;, iconId), e);</span>
		}
	}

	/**
	 * Upload an Icon.
	 * 
	 * @param iconFile icon file
	 * @return ResponseEntity
	 */
	public ResponseEntity&lt;String&gt; uploadIcon(final File iconFile) {
		try {
<span class="nc" id="L107">			return uploadIconPrimitive(iconFile);</span>
<span class="nc" id="L108">		} catch (Exception e) {</span>
<span class="nc" id="L109">			throw new RuntimeException(String.format(&quot;Could not upload icon file '%s'.&quot;, iconFile.getAbsolutePath()),</span>
					e);
		}
	}

	/**
	 * Patch a catalog item.
	 * 
	 * @param catalogItem catalog item
	 * @param iconId icon id
	 * @return ResponseEntity
	 */
	public ResponseEntity&lt;String&gt; patchCatalogItemIcon(final VraNgCatalogItem catalogItem, final String iconId) {
		try {
<span class="nc" id="L123">			return patchCatalogItemIconPrimitive(catalogItem, iconId);</span>
<span class="nc" id="L124">		} catch (Exception e) {</span>
<span class="nc" id="L125">			throw new RuntimeException(&quot;Could not patch icon for catalogItem&quot;, e);</span>
		}
	}

	// =================================================
	// BLUEPRINT OPERATIONS
	// =================================================

	/**
	 * Creates a blueprint.
	 * 
	 * @param blueprint vra blueprint
	 * @return id
	 */
	public String createBlueprint(final VraNgBlueprint blueprint) {
		try {
<span class="nc" id="L141">			return createBlueprintPrimitive(blueprint);</span>
<span class="nc" id="L142">		} catch (Exception e) {</span>
<span class="nc" id="L143">			throw new RuntimeException(String.format(&quot;Could not create Blueprint with name '%s'.&quot;, blueprint.getName()),</span>
					e);
		}
	}

	/**
	 * Updates the blueprint.
	 * 
	 * @param blueprint vra blueprint
	 * @return id
	 */
	public String updateBlueprint(final VraNgBlueprint blueprint) {
		try {
<span class="nc" id="L156">			return updateBlueprintPrimitive(blueprint);</span>
<span class="nc" id="L157">		} catch (Exception e) {</span>
<span class="nc" id="L158">			throw new RuntimeException(String.format(&quot;Could not update Blueprint with name '%s'.&quot;, blueprint.getName()),</span>
					e);
		}
	}

	/**
	 * getAllBlueprints.
	 * 
	 * @return blueprint
	 */
	public List&lt;VraNgBlueprint&gt; getAllBlueprints() {
		try {
<span class="nc" id="L170">			return getAllBlueprintsPrimitive();</span>
<span class="nc" id="L171">		} catch (Exception e) {</span>
<span class="nc" id="L172">			throw new RuntimeException(&quot;Could not fetch blueprints.&quot;, e);</span>
		}
	}

	/**
	 * getBlueprintLastUpdatedVersion.
	 * 
	 * @param blueprintId blueprint id
	 * @return id
	 */
	public String getBlueprintLastUpdatedVersion(final String blueprintId) {
		try {
<span class="nc" id="L184">			return this.getBlueprintLastUpdatedVersionPrimitive(blueprintId);</span>
<span class="nc" id="L185">		} catch (Exception e) {</span>
<span class="nc" id="L186">			throw new RuntimeException(</span>
<span class="nc" id="L187">					String.format(&quot;Could not fetch Blueprint last version for id '%s'.&quot;, blueprintId), e);</span>
		}
	}

	/**
	 * getBlueprintVersionContent.
	 * 
	 * @param blueprintId blueprint id
	 * @param version version
	 * @return content
	 */
	public String getBlueprintVersionContent(final String blueprintId, final String version) {
		try {
<span class="nc" id="L200">			return this.getBlueprintVersionContentPrimitive(blueprintId, version);</span>
<span class="nc" id="L201">		} catch (Exception e) {</span>
<span class="nc" id="L202">			throw new RuntimeException(String.format(&quot;Could not fetch Blueprint content with version '%s' and id '%s'.&quot;,</span>
					blueprintId, version), e);
		}
	}

	/**
	 * Fetching the version details for a blueprint using the vRA REST API.
	 * 
	 * @param blueprintId blueprintId
	 * @return version
	 */
	public String getBlueprintVersions(final String blueprintId) {
		try {
<span class="nc" id="L215">			return this.getBlueprintVersionsContent(blueprintId);</span>
<span class="nc" id="L216">		} catch (Exception e) {</span>
<span class="nc" id="L217">			throw new RuntimeException(String.format(&quot;Could not fetch Blueprint version for id '%s'.&quot;, blueprintId), e);</span>
		}
	}

	/**
	 * isBlueprintVersionPresent.
	 * 
	 * @param blueprintId blueprint id
	 * @param version version
	 * @return boolean
	 */
	public Boolean isBlueprintVersionPresent(final String blueprintId, final String version) {
		try {
<span class="nc" id="L230">			return this.isBlueprintVersionPresentPrimitive(blueprintId, version);</span>
<span class="nc" id="L231">		} catch (Exception e) {</span>
<span class="nc" id="L232">			throw new RuntimeException(</span>
<span class="nc" id="L233">					String.format(&quot;No Blueprint present for version '%s' and id '%s'.&quot;, blueprintId, version), e);</span>
		}
	}

	/**
	 * isBlueprintReleased.
	 * 
	 * @param blueprintId blueprint id
	 * @return boolean
	 */
	public boolean isBlueprintReleased(final String blueprintId) {
		try {
<span class="nc" id="L245">			return this.isBlueprintReleasedPrimitive(blueprintId);</span>
<span class="nc" id="L246">		} catch (Exception e) {</span>
<span class="nc" id="L247">			throw new RuntimeException(String.format(&quot;No Blueprint released with id '%s'.&quot;, blueprintId), e);</span>
		}
	}

	/**
	 * releaseBlueprintVersion.
	 *
	 * @param blueprintId blueprint id
	 * @param version version
	 */
	public void releaseBlueprintVersion(final String blueprintId, final String version) {
		try {
<span class="nc" id="L259">			this.releaseBlueprintVersionPrimitive(blueprintId, version);</span>
<span class="nc" id="L260">		} catch (URISyntaxException e) {</span>
<span class="nc" id="L261">			logger.error(&quot;Could not release blueprint version {}&quot;, blueprintId);</span>
<span class="nc" id="L262">			throw new RuntimeException(e);</span>
<span class="nc" id="L263">		}</span>
<span class="nc" id="L264">	}</span>

	/**
	 * releaseBlueprintVersion.
	 *
	 * @param blueprintId blueprint id
	 * @param versionId version id
	 */
	public void unreleaseBlueprintVersion(final String blueprintId, final String versionId) {
		try {
<span class="nc" id="L274">			this.unreleaseBlueprintVersionPrimitive(blueprintId, versionId);</span>
<span class="nc" id="L275">		} catch (URISyntaxException e) {</span>
<span class="nc" id="L276">			logger.error(&quot;Could not unrelease blueprint version {}:{}&quot;, blueprintId, versionId);</span>
<span class="nc" id="L277">			throw new RuntimeException(e);</span>
<span class="nc" id="L278">		}</span>
<span class="nc" id="L279">	}</span>

	/**
	 * Import missing versions into vRA for a specified blueprint.
	 *
	 * @param blueprintId blueprintId
	 * @param version     version
	 */
	public void importBlueprintVersion(final String blueprintId, final JsonObject version) {
		try {
			// There is no update or remove endpoints, so we're only importing ones that are
			// not present
<span class="nc bnc" id="L291" title="All 2 branches missed.">			if (!this.isBlueprintVersionPresentPrimitive(blueprintId, version.get(&quot;id&quot;).getAsString())) {</span>
<span class="nc bnc" id="L292" title="All 2 branches missed.">				String changelog = version.has(&quot;versionChangeLog&quot;) ? version.get(&quot;versionChangeLog&quot;).getAsString() : &quot;&quot;;</span>
<span class="nc bnc" id="L293" title="All 2 branches missed.">				String description = version.has(&quot;versionDescription&quot;) ? version.get(&quot;versionDescription&quot;).getAsString()</span>
<span class="nc" id="L294">						: &quot;&quot;;</span>
<span class="nc" id="L295">				Map&lt;String, Object&gt; versionDetails = new LinkedHashMap&lt;&gt;();</span>
<span class="nc" id="L296">				versionDetails.put(&quot;version&quot;, version.get(&quot;id&quot;).getAsString());</span>
<span class="nc" id="L297">				versionDetails.put(&quot;release&quot;, (version.get(&quot;status&quot;).getAsString().equals(&quot;RELEASED&quot;)));</span>
<span class="nc" id="L298">				versionDetails.put(&quot;changeLog&quot;, changelog);</span>
<span class="nc" id="L299">				versionDetails.put(&quot;description&quot;, description);</span>
<span class="nc" id="L300">				this.createBlueprintVersionPrimitive(blueprintId, versionDetails);</span>
			}
<span class="nc" id="L302">		} catch (URISyntaxException e) {</span>
<span class="nc" id="L303">			logger.error(&quot;Could not import blueprint {}&quot;, blueprintId);</span>
<span class="nc" id="L304">			throw new RuntimeException(e);</span>
<span class="nc" id="L305">		}</span>
<span class="nc" id="L306">	}</span>

	// =================================================
	// SUBSCRIPTION OPERATIONS
	// =================================================

	/**
	 * importSubscription.
	 *
	 * @param subscriptionName subscription name
	 * @param subscriptionJson subscription json
	 */
	public void importSubscription(final String subscriptionName, final String subscriptionJson) {
		try {
<span class="nc" id="L320">			importSubscriptionPrimitive(subscriptionName, subscriptionJson);</span>
<span class="nc" id="L321">		} catch (Exception e) {</span>
<span class="nc" id="L322">			throw new RuntimeException(String.format(&quot;Could not import Subscription with name '%s'.&quot;, subscriptionName),</span>
					e);
<span class="nc" id="L324">		}</span>
<span class="nc" id="L325">	}</span>

	/**
	 * getAllSubscriptions.
	 *
	 * @return subscriptions
	 */
	public Map&lt;String, VraNgSubscription&gt; getAllSubscriptions() {
<span class="nc" id="L333">		return getAllSubscriptionsPrimitive(&quot;type ne 'SUBSCRIBABLE'&quot;);</span>
	}

	/**
	 * getSubscriptionsByName.
	 *
	 * @param name subscription name
	 * @return subscriptions
	 */
	public Map&lt;String, VraNgSubscription&gt; getSubscriptionsByName(final String name) {
<span class="nc" id="L343">		return getAllSubscriptionsPrimitive(&quot;type ne 'SUBSCRIBABLE' and name eq '&quot; + name + &quot;'&quot;);</span>
	}

	/**
	 * getSubscriptionsByOrgId.
	 *
	 * @param orgId org id
	 * @return subscriptions
	 */
	public Map&lt;String, VraNgSubscription&gt; getSubscriptionsByOrgId(final String orgId) {
<span class="nc" id="L353">		return getAllSubscriptionsPrimitive(&quot;type ne 'SUBSCRIBABLE' and orgId eq '&quot; + orgId + &quot;'&quot;);</span>
	}

	/**
	 * getSubscriptionsByOrgIdAndName.
	 *
	 * @param orgId org id
	 * @param name subscription name
	 * @return subscriptions
	 */
	public Map&lt;String, VraNgSubscription&gt; getSubscriptionsByOrgIdAndName(final String orgId, final String name) {
<span class="nc" id="L364">		return getAllSubscriptionsPrimitive(</span>
				&quot;type ne 'SUBSCRIBABLE' and orgId eq '&quot; + orgId + &quot;' and name eq '&quot; + name + &quot;'&quot;);
	}

	// =================================================
	// CLOUD ACCOUNT OPERATIONS
	// =================================================

	/**
	 * getCloudAccounts.
	 *
	 * @return cloudAccounts
	 */
	public List&lt;VraNgCloudAccount&gt; getCloudAccounts() {
		try {
<span class="nc" id="L379">			return getAllCloudAccounts();</span>
<span class="nc" id="L380">		} catch (Exception e) {</span>
<span class="nc" id="L381">			throw new RuntimeException(&quot;Could not get cloud accounts&quot;, e);</span>
		}
	}

	/**
	 * getCloudAccount.
	 *
	 * @param id cloud account id
	 * @return cloudAccount
	 */
	public VraNgCloudAccount getCloudAccount(final String id) {
		try {
<span class="nc" id="L393">			return getCloudAccountPrimitive(id);</span>
<span class="nc" id="L394">		} catch (Exception e) {</span>
<span class="nc" id="L395">			throw new RuntimeException(String.format(&quot;Could not get cloud account with id '%s'.&quot;, id), e);</span>
		}
	}

	// =================================================
	// SECRET OPERATIONS
	// =================================================

	/**
	 * Retrieve Secret by name (name is unique for secrets).
	 * 
	 * @param name of the secret
	 * @return item
	 */
	public VraNgSecret getSecret(final String name) {
		try {
<span class="nc" id="L411">			return getSecretPrimitive(name);</span>
<span class="nc" id="L412">		} catch (Exception e) {</span>
<span class="nc" id="L413">			logger.error(&quot;Error fetching secrets.&quot;, e.getMessage());</span>
<span class="nc" id="L414">			throw new RuntimeException(e);</span>
		}
	}

	// =================================================
	// REGION OPERATIONS
	// =================================================

	/**
	 * getRegion.
	 *
	 * @param id cloud region id
	 * @return region
	 */
	public VraNgRegion getRegion(final String id) {
		try {
<span class="nc" id="L430">			return getRegionPrimitive(id);</span>
<span class="nc" id="L431">		} catch (Exception e) {</span>
<span class="nc" id="L432">			throw new RuntimeException(String.format(&quot;Could not get region with id '%s'.&quot;, id), e);</span>
		}
	}

	// =================================================
	// FLAVOR PROFILES OPERATIONS
	// =================================================

	/**
	 * getAllFlavorMappingsByRegion.
	 *
	 * @return flavorMappings
	 */
	public Map&lt;String, List&lt;VraNgFlavorMapping&gt;&gt; getAllFlavorMappingsByRegion() {
		try {
<span class="nc" id="L447">			return getAllFlavorMappingsByRegionPrimitive();</span>
<span class="nc" id="L448">		} catch (Exception e) {</span>
<span class="nc" id="L449">			throw new RuntimeException(&quot;Could not get all flavour mappings by region&quot;, e);</span>
		}
	}

	/**
	 * getAllFlavorProfilesByRegion.
	 *
	 * @return flavourProfiles
	 */
	public Map&lt;String, List&lt;String&gt;&gt; getAllFlavorProfilesByRegion() {
		try {
<span class="nc" id="L460">			return getAllFlavorProfilesByRegionPrimitive();</span>
<span class="nc" id="L461">		} catch (Exception e) {</span>
<span class="nc" id="L462">			throw new RuntimeException(&quot;Could not get all flavour profiles by region.&quot;, e);</span>
		}
	}

	/**
	 * createFlavor.
	 *
	 * @param regionId region id
	 * @param flavorProfileName flavor name
	 * @param flavorMappings flavor mappings
	 */
	public void createFlavor(final String regionId, final String flavorProfileName,
			final List&lt;VraNgFlavorMapping&gt; flavorMappings) {
		try {
<span class="nc" id="L476">			createFlavorPrimitive(regionId, flavorProfileName, flavorMappings);</span>
<span class="nc" id="L477">		} catch (Exception e) {</span>
<span class="nc" id="L478">			throw new RuntimeException(String.format(&quot;Could not create Flavor with name '%s'.&quot;, flavorProfileName), e);</span>
<span class="nc" id="L479">		}</span>
<span class="nc" id="L480">	}</span>

	/**
	 * updateFlavor.
	 *
	 * @param flavorId flavor id
	 * @param flavorMappings flavor mappings
	 */
	public void updateFlavor(final String flavorId, final List&lt;VraNgFlavorMapping&gt; flavorMappings) {
		try {
<span class="nc" id="L490">			updateFlavorPrimitive(flavorId, flavorMappings);</span>
<span class="nc" id="L491">		} catch (Exception e) {</span>
<span class="nc" id="L492">			throw new RuntimeException(String.format(&quot;Could not update Flavor Profile with id '%s'.&quot;, flavorId), e);</span>
<span class="nc" id="L493">		}</span>
<span class="nc" id="L494">	}</span>

	// =================================================
	// IMAGE PROFILES OPERATIONS
	// =================================================

	/**
	 * getAllImageMappingsByRegion.
	 * 
	 * @return imageMappings
	 */
	public Map&lt;String, List&lt;VraNgImageMapping&gt;&gt; getAllImageMappingsByRegion() {
		try {
<span class="nc" id="L507">			return getAllImageMappingsByRegionPrimitive();</span>
<span class="nc" id="L508">		} catch (Exception e) {</span>
<span class="nc" id="L509">			throw new RuntimeException(&quot;Could not get all image mappings by region.&quot;, e);</span>
		}
	}

	/**
	 * getAllImageProfilesByRegion.
	 *
	 * @return imageProfiles
	 */
	public Map&lt;String, List&lt;String&gt;&gt; getAllImageProfilesByRegion() {
		try {
<span class="nc" id="L520">			return getAllImageProfilesByRegionPrimitive();</span>
<span class="nc" id="L521">		} catch (Exception e) {</span>
<span class="nc" id="L522">			throw new RuntimeException(&quot;Could not get all image profiles by region.&quot;, e);</span>
		}
	}

	/**
	 * createImageProfile.
	 *
	 * @param regionId region id
	 * @param profileName profile name
	 * @param imageMappings image mappings
	 */
	public void createImageProfile(final String regionId, final String profileName,
			final List&lt;VraNgImageMapping&gt; imageMappings) {
		try {
<span class="nc" id="L536">			createImageProfilePrimitive(regionId, profileName, imageMappings);</span>
<span class="nc" id="L537">		} catch (Exception e) {</span>
<span class="nc" id="L538">			throw new RuntimeException(String.format(&quot;Could not create Image Profile with name '%s'.&quot;, profileName), e);</span>
<span class="nc" id="L539">		}</span>
<span class="nc" id="L540">	}</span>

	/**
	 * updateImageProfile.
	 *
	 * @param profileId profile id
	 * @param imageMappings image mappings
	 */
	public void updateImageProfile(final String profileId, final List&lt;VraNgImageMapping&gt; imageMappings) {
		try {
<span class="nc" id="L550">			updateImageProfilePrimitive(profileId, imageMappings);</span>
<span class="nc" id="L551">		} catch (Exception e) {</span>
<span class="nc" id="L552">			throw new RuntimeException(String.format(&quot;Could not update Image Profile with id '%s'.&quot;, profileId), e);</span>
<span class="nc" id="L553">		}</span>
<span class="nc" id="L554">	}</span>

	// =================================================
	// STORAGE PROFILES OPERATIONS
	// =================================================

	/**
	 * getAllStorageProfilesByRegion.
	 *
	 * @return storageProfile
	 */
	public Map&lt;String, List&lt;VraNgStorageProfile&gt;&gt; getAllStorageProfilesByRegion() {
		try {
<span class="nc" id="L567">			return getAllStorageProfilesByRegionPrimitive();</span>
<span class="nc" id="L568">		} catch (Exception e) {</span>
<span class="nc" id="L569">			throw new RuntimeException(&quot;Could not get all storage profiles by region.&quot;, e);</span>
		}
	}

	/**
	 * updateStorageProfile.
	 *
	 * @param profileId profile id
	 * @param profile vra storage profile 
	 */
	public void updateStorageProfile(final String profileId, final VraNgStorageProfile profile) {
		try {
<span class="nc" id="L581">			updateStorageProfilePrimitive(profileId, profile);</span>
<span class="nc" id="L582">		} catch (Exception e) {</span>
<span class="nc" id="L583">			logger.debug(&quot;Could not update Storage Profile with name '{}' and id '{}' using payload\n{}&quot;,</span>
<span class="nc" id="L584">					profile.getName(), profileId, profile.getJson());</span>
<span class="nc" id="L585">			throw new RuntimeException(</span>
<span class="nc" id="L586">					String.format(&quot;Could not update Storage Profile with name '%s'.&quot;, profile.getName()), e);</span>
<span class="nc" id="L587">		}</span>
<span class="nc" id="L588">	}</span>

	/**
	 * createStorageProfile.
	 *
	 * @param profile vra storage file
	 * @return storageProfile
	 */
	public String createStorageProfile(final VraNgStorageProfile profile) {
		try {
<span class="nc" id="L598">			return createStorageProfilePrimitive(profile);</span>
<span class="nc" id="L599">		} catch (Exception e) {</span>
<span class="nc" id="L600">			logger.debug(&quot;Could not create Storage Profile with name '{}' using payload\n{}&quot;, profile.getName(),</span>
<span class="nc" id="L601">					profile.getJson());</span>
<span class="nc" id="L602">			throw new RuntimeException(</span>
<span class="nc" id="L603">					String.format(&quot;Could not create Storage Profile with name '%s'.&quot;, profile.getName()), e);</span>
		}
	}

	/**
	 * getSpecificStorageProfile.
	 *
	 * @param targetPool target pool
	 * @param profileId storage profile id
	 * @return storageProfile
	 */
	public VraNgStorageProfile getSpecificStorageProfile(final String targetPool, final String profileId) {
		try {
<span class="nc" id="L616">			return getSpecificProfilePrimitive(targetPool, profileId);</span>
<span class="nc" id="L617">		} catch (Exception e) {</span>
<span class="nc" id="L618">			logger.debug(&quot;Could not get Storage Profile with id '{}'&quot;, profileId);</span>
<span class="nc" id="L619">			throw new RuntimeException(String.format(&quot;Could not get Storage Profile with id '%s'.&quot;, profileId), e);</span>
		}
	}

	/**
	 * updateSpecificProfile.
	 *
	 * @param patchTarget patch target
	 * @param profileId storage profile id
	 * @param profile storage profile
	 */
	public void updateSpecificProfile(final String patchTarget, final String profileId,
			final VraNgStorageProfile profile) {
		try {
<span class="nc" id="L633">			updateSpecificProfilePrimitive(patchTarget, profileId, profile);</span>
<span class="nc" id="L634">		} catch (Exception e) {</span>
<span class="nc" id="L635">			logger.debug(&quot;Could not update Storage Profile with name '{}' and id '{}' using payload\n{}&quot;,</span>
<span class="nc" id="L636">					profile.getName(), profileId, profile.getJson());</span>
<span class="nc" id="L637">			throw new RuntimeException(</span>
<span class="nc" id="L638">					String.format(&quot;Could not update Storage Profile with name '%s'.&quot;, profile.getName()), e);</span>
<span class="nc" id="L639">		}</span>
<span class="nc" id="L640">	}</span>

	/**
	 * getFabricEntityName.
	 *
	 * @param fabricUrl fabric url
	 * @return name
	 */
	public String getFabricEntityName(final String fabricUrl) {
		try {
<span class="nc" id="L650">			return getFabricEntityNamePrimitive(fabricUrl);</span>
<span class="nc" id="L651">		} catch (Exception e) {</span>
<span class="nc" id="L652">			logger.debug(&quot;Could not get name from fabric '{}'&quot;, fabricUrl);</span>
<span class="nc" id="L653">			throw new RuntimeException(String.format(&quot;Could not get name from fabric '%s'.&quot;, fabricUrl), e);</span>
		}
	}

	/**
	 * getFabricEntityId.
	 *
	 * @param fabricType fabric type
	 * @param fabricName fabric name
	 * @return id
	 */
	public String getFabricEntityId(final String fabricType, final String fabricName) {
		try {
<span class="nc" id="L666">			return getFabricEntityIdPrimitive(fabricType, fabricName);</span>
<span class="nc" id="L667">		} catch (Exception e) {</span>
<span class="nc" id="L668">			logger.debug(&quot;Could not get id from {} '{}'&quot;, fabricType, fabricName);</span>
<span class="nc" id="L669">			throw new RuntimeException(String.format(&quot;Could not get id from %s '%s'.&quot;, fabricType, fabricName), e);</span>
		}
	}

	// =================================================
	// CATALOG OPERATIONS
	// =================================================

	/**
	 * NOTE: Blueprint name is always going to be the catalog item name, method name
	 * seems misleading.
	 *
	 * @param blueprintName bp name
	 *
	 * @return VraNgCatalogItem
	 */
	public VraNgCatalogItem getCatalogItemByBlueprintName(final String blueprintName) {
		try {
<span class="nc" id="L687">			return this.getCatalogItemByBlueprintNamePrimitive(blueprintName);</span>
<span class="nc" id="L688">		} catch (Exception e) {</span>
<span class="nc" id="L689">			throw new RuntimeException(</span>
<span class="nc" id="L690">					String.format(&quot;Could not get catalog item by blueprint name '%s'.&quot;, blueprintName), e);</span>
		}
	}

	/**
	 * getCatalogItemsForProject.
	 *
	 * @param project project
	 * @return catalogItem
	 */
	public List&lt;VraNgCatalogItem&gt; getCatalogItemsForProject(final String project) {
		try {
<span class="nc" id="L702">			return this.getCatalogItemsForProjectPrimitive(project);</span>
<span class="nc" id="L703">		} catch (Exception e) {</span>
<span class="nc" id="L704">			logger.error(&quot;Error fetching catalog items for project '{}' : {}&quot;, project, e.getMessage());</span>
<span class="nc" id="L705">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getPropertyGroups.
	 *
	 * @return propertyGroup
	 */
	public List&lt;VraNgPropertyGroup&gt; getPropertyGroups() {
		try {
<span class="nc" id="L716">			return this.getAllPropertyGroupsPrimitive();</span>
<span class="nc" id="L717">		} catch (Exception e) {</span>
<span class="nc" id="L718">			logger.error(&quot;Error fetching property groups: {}&quot;, e.getMessage());</span>
<span class="nc" id="L719">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * createPropertyGroup.
	 *
	 * @param propertyGroup vra property group
	 */
	public void createPropertyGroup(final VraNgPropertyGroup propertyGroup) {
		try {
<span class="nc" id="L730">			this.createPropertyGroupPrimitive(propertyGroup);</span>
<span class="nc" id="L731">		} catch (Exception e) {</span>
<span class="nc" id="L732">			logger.error(&quot;Error importing property group {}. Create operation has failed with error: {}&quot;,</span>
<span class="nc" id="L733">					propertyGroup.getName(), e.getMessage());</span>
<span class="nc" id="L734">			throw new RuntimeException(e);</span>
<span class="nc" id="L735">		}</span>
<span class="nc" id="L736">	}</span>

	/**
	 * updatePropertyGroup.
	 *
	 * @param propertyGroup vra property group
	 */
	public void updatePropertyGroup(final VraNgPropertyGroup propertyGroup) {
		try {
<span class="nc" id="L745">			this.updatePropertyGroupPrimitive(propertyGroup);</span>
<span class="nc" id="L746">		} catch (Exception e) {</span>
<span class="nc" id="L747">			logger.error(&quot;Error importing property group {}. Update operation has failed with error: {}&quot;,</span>
<span class="nc" id="L748">					propertyGroup.getName(), e.getMessage());</span>
<span class="nc" id="L749">			throw new RuntimeException(e);</span>
<span class="nc" id="L750">		}</span>
<span class="nc" id="L751">	}</span>

	/**
	 * getCatalogItemsForProjects.
	 *
	 * @param projects list of projects
	 * @return catalogItems
	 */
	public Map&lt;String, List&lt;VraNgCatalogItem&gt;&gt; getCatalogItemsForProjects(final List&lt;String&gt; projects) {
		try {
<span class="nc" id="L761">			return this.getCatalogItemsForProjectsPrimitive(projects);</span>
<span class="nc" id="L762">		} catch (Exception e) {</span>
<span class="nc" id="L763">			logger.error(&quot;Error fetching catalog items for projects '{}' : {}&quot;,</span>
<span class="nc" id="L764">					projects.stream().collect(Collectors.joining(&quot;, &quot;)), e.getMessage());</span>
<span class="nc" id="L765">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getContentSource.
	 *
	 * @param id content source id
	 * @return contentSourceBase
	 */
	public VraNgContentSourceBase getContentSource(final String id) {
		try {
<span class="nc" id="L777">			return this.getContentSourcePrimitive(id);</span>
<span class="nc" id="L778">		} catch (Exception e) {</span>
<span class="nc" id="L779">			throw new RuntimeException(String.format(&quot;Could not get content source by id '%s'.&quot;, id, e));</span>
		}
	}

	/**
	 * getVraWorkflowContentSource.
	 *
	 * @param id content source id
	 * @return workflowContentSource
	 */
	public VraNgWorkflowContentSource getVraWorkflowContentSource(final String id) {
		try {
<span class="nc" id="L791">			return this.getVraWorkflowContentSourcePrimitive(id);</span>
<span class="nc" id="L792">		} catch (Exception e) {</span>
<span class="nc" id="L793">			logger.error(&quot;Could not find VRA workflow content source {}&quot;, id);</span>
<span class="nc" id="L794">			throw new RuntimeException(e.getMessage());</span>
		}
	}

	/**
	 * getBlueprintContentSourceForProject.
	 *
	 * @return contentSource
	 */
	public VraNgContentSource getBlueprintContentSourceForProject() {
		try {
<span class="nc" id="L805">			return this.getBlueprintContentSourceForProjectPrimitive();</span>
<span class="nc" id="L806">		} catch (Exception e) {</span>
<span class="nc" id="L807">			logger.error(&quot;Error fetching blueprint content sources for project: {}&quot;, e.getMessage());</span>
<span class="nc" id="L808">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getContentSourcesForProject.
	 *
	 * @param project project
	 * @return contentSourceBase
	 */
	public List&lt;VraNgContentSourceBase&gt; getContentSourcesForProject(final String project) {
		try {
<span class="nc" id="L820">			return this.getContentSourcesForProjectPrimitive(project);</span>
<span class="nc" id="L821">		} catch (Exception e) {</span>
<span class="nc" id="L822">			logger.error(&quot;Error fetching content sources for project '{}': {}&quot;, project, e.getMessage());</span>
<span class="nc" id="L823">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getContentSourcesForProjects.
	 *
	 * @param projects list of projects
	 * @return contentSourceBase
	 */
	public Map&lt;String, List&lt;VraNgContentSourceBase&gt;&gt; getContentSourcesForProjects(final List&lt;String&gt; projects) {
		try {
<span class="nc" id="L835">			return this.getContentSourcesForProjectsPrimitive(projects);</span>
<span class="nc" id="L836">		} catch (Exception e) {</span>
<span class="nc" id="L837">			logger.error(&quot;Error fetching content sources for project '{}': {}&quot;,</span>
<span class="nc" id="L838">					projects.stream().collect(Collectors.joining(&quot;, &quot;)), e.getMessage());</span>
<span class="nc" id="L839">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getCustomFormByTypeAndSource.
	 *
	 * @param type source type
	 * @param sourceId source id
	 * @return customForm
	 */
	public VraNgCustomForm getCustomFormByTypeAndSource(final String type, final String sourceId) {
		try {
<span class="nc" id="L852">			return this.getCustomFormByTypeAndSourcePrimitive(type, sourceId);</span>
<span class="nc" id="L853">		} catch (Exception e) {</span>
<span class="nc" id="L854">			throw new RuntimeException(</span>
<span class="nc" id="L855">					String.format(&quot;Could not get custom form by type '%s' and source '%s'.&quot;, type, sourceId, e));</span>
		}
	}

	/**
	 * getCatalogItemVersions.
	 *
	 * @param catalogItemId catalog item id.
	 * @return catalogItemVersion
	 */
	public JsonArray getCatalogItemVersions(final String catalogItemId) {
		try {
<span class="nc" id="L867">			return this.getCatalogItemVersionsPrimitive(catalogItemId);</span>
<span class="nc" id="L868">		} catch (Exception e) {</span>
<span class="nc" id="L869">			throw new RuntimeException(String.format(&quot;Could not get custom form by id '%s'.&quot;, catalogItemId, e));</span>
		}
	}

	/**
	 * fetchRequestForm.
	 *
	 * @param type source type
	 * @param sourceId source id
	 * @param formId form id
	 * @return customForm
	 */
	public VraNgCustomForm fetchRequestForm(final String type, final String sourceId, final String formId) {
		try {
<span class="nc" id="L883">			return this.fetchRequestFormPrimitive(type, sourceId, formId);</span>
<span class="nc" id="L884">		} catch (Exception e) {</span>
<span class="nc" id="L885">			throw new RuntimeException(String.format(</span>
					&quot;Could not get custom form by type '%s', source '%s' and formId '$s'.&quot;, type, sourceId, formId, e));
		}
	}

	/**
	 * createOrUpdateContentSource.
	 *
	 * @param contentSource vra content source
	 * @return id
	 */
	public String createOrUpdateContentSource(final VraNgContentSourceBase contentSource) {
		try {
<span class="nc" id="L898">			return this.createOrUpdateContentSourcePrimitive(contentSource);</span>
<span class="nc" id="L899">		} catch (Exception e) {</span>
<span class="nc" id="L900">			logger.error(&quot;Could not create or update content source {} : {}&quot;, contentSource.getName(), e.getMessage());</span>
<span class="nc" id="L901">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getVraWorkflowCustomForm.
	 *
	 * @param formName form name
	 * @return customForm
	 */
	public VraNgCustomForm getVraWorkflowCustomForm(final String formName) {
		try {
<span class="nc" id="L913">			return this.getVraWorkflowCustomFormPrimitive(formName);</span>
<span class="nc" id="L914">		} catch (Exception e) {</span>
<span class="nc" id="L915">			logger.error(&quot;Error fetching VRA workflow custom form {} : {}&quot;, formName, e.getMessage());</span>
<span class="nc" id="L916">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getVraWorkflowIntegration.
	 *
	 * @param name workflow name
	 * @return integration
	 */
	public VraNgIntegration getVraWorkflowIntegration(final String name) {
		try {
<span class="nc" id="L928">			return this.getVraWorkflowIntegrationPrimitive(name);</span>
<span class="nc" id="L929">		} catch (Exception e) {</span>
<span class="nc" id="L930">			logger.error(&quot;Error fetching VRA workflow integration {} : {}&quot;, name, e.getMessage());</span>
<span class="nc" id="L931">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getVraWorkflowIntegrations.
	 *
	 * @return integrations
	 */
	public List&lt;VraNgIntegration&gt; getVraWorkflowIntegrations() {
		try {
<span class="nc" id="L942">			return this.getVraWorkflowIntegrationsPrimitive();</span>
<span class="nc" id="L943">		} catch (Exception e) {</span>
<span class="nc" id="L944">			logger.error(&quot;Error retrieving list of VRA workflow integrations: {}&quot;, e.getMessage());</span>
<span class="nc" id="L945">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * importCustomForm.
	 *
	 * @param customForm vra custom form
	 * @param sourceId source id
	 */
	public void importCustomForm(final VraNgCustomForm customForm, final String sourceId) {
		try {
<span class="nc" id="L957">			this.importCustomFormPrimitive(customForm, sourceId);</span>
<span class="nc" id="L958">		} catch (Exception e) {</span>
<span class="nc" id="L959">			logger.error(&quot;Could not import custom form {} : {}&quot;, customForm.getName(), e.getMessage());</span>
<span class="nc" id="L960">			throw new RuntimeException(e);</span>
<span class="nc" id="L961">		}</span>
<span class="nc" id="L962">	}</span>

	/**
	 * getAllCatalogEntitlements.
	 *
	 * @return catalogEntitlements
	 */
	public List&lt;VraNgCatalogEntitlement&gt; getAllCatalogEntitlements() {
		try {
<span class="nc" id="L971">			return this.getAllCatalogEntitlementsPrimitive();</span>
<span class="nc" id="L972">		} catch (Exception e) {</span>
<span class="nc" id="L973">			logger.error(&quot;Error fetching all catalog entitlements: {}&quot;, e.getMessage());</span>
<span class="nc" id="L974">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * createCatalogEntitlement.
	 *
	 * @param entitlement catalog entitlement
	 * @param project project id
	 */
	public void createCatalogEntitlement(final VraNgCatalogEntitlement entitlement, final String project) {
		try {
<span class="nc" id="L986">			this.createCatalogEntitlementPrimitive(entitlement, project);</span>
<span class="nc" id="L987">		} catch (Exception e) {</span>
<span class="nc" id="L988">			logger.error(&quot;Error creating catalog entitlement '{}': {}&quot;, entitlement.getName(), e.getMessage());</span>
<span class="nc" id="L989">			throw new RuntimeException(e);</span>
<span class="nc" id="L990">		}</span>
<span class="nc" id="L991">	}</span>

	/**
	 * getProjectsByName.
	 *
	 * @param projectName project name
	 * @return projects
	 */
	public List&lt;VraNgProject&gt; getProjectsByName(final String projectName) {
		try {
<span class="nc" id="L1001">			return this.getProjectsPrimitive(projectName);</span>
<span class="nc" id="L1002">		} catch (Exception e) {</span>
<span class="nc" id="L1003">			logger.error(&quot;Error fetching VRA projects with name '{}': {}&quot;, projectName, e.getMessage());</span>
<span class="nc" id="L1004">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getProjects.
	 * 
	 * @return projects
	 */
	public List&lt;VraNgProject&gt; getProjects() {
		try {
<span class="nc" id="L1015">			return this.getProjectsPrimitive();</span>
<span class="nc" id="L1016">		} catch (Exception e) {</span>
<span class="nc" id="L1017">			logger.error(&quot;Error fetching VRA projects : {}&quot;, e.getMessage());</span>
<span class="nc" id="L1018">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getProjectIdByName.
	 *
	 * @param projectName project name
	 * @return id
	 */
	public String getProjectIdByName(final String projectName) {
		try {
<span class="nc" id="L1030">			return this.getProjectIdPrimitive(projectName);</span>
<span class="nc" id="L1031">		} catch (Exception e) {</span>
<span class="nc" id="L1032">			logger.error(&quot;Error fetching VRA project id for project name '{}': {}&quot;, projectName, e.getMessage());</span>
<span class="nc" id="L1033">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getProjectNameById.
	 *
	 * @param projectId project id
	 * @return id
	 */
	public String getProjectNameById(final String projectId) {
		try {
<span class="nc" id="L1045">			return this.getProjectNamePrimitive(projectId);</span>
<span class="nc" id="L1046">		} catch (Exception e) {</span>
<span class="nc" id="L1047">			logger.error(&quot;Error fetching VRA project name for project id '{}': {}&quot;, projectId, e.getMessage());</span>
<span class="nc" id="L1048">			throw new RuntimeException(e);</span>
		}
	}

	// =================================================
	// CUSTOM RESOURCES OPERATIONS
	// =================================================

	/**
	 * getAllCustomResources.
	 * 
	 * @return customResources
	 */
	public Map&lt;String, VraNgCustomResource&gt; getAllCustomResources() {
		try {
<span class="nc" id="L1063">			return getAllCustomResourcesPrimitive();</span>
<span class="nc" id="L1064">		} catch (Exception e) {</span>
<span class="nc" id="L1065">			logger.error(&quot;Error fetching all custom resources.&quot;, e.getMessage());</span>
<span class="nc" id="L1066">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * importCustomResource.
	 *
	 * @param customResourceName custom resource name
	 * @param customResourceJson custom resource json
	 */
	public void importCustomResource(final String customResourceName, final String customResourceJson) {
		try {
<span class="nc" id="L1078">			importCustomResourcePrimitive(customResourceJson);</span>
<span class="nc" id="L1079">		} catch (HttpClientErrorException httpClientErrorException) {</span>
<span class="nc" id="L1080">			throw httpClientErrorException;</span>
<span class="nc" id="L1081">		} catch (Exception e) {</span>
<span class="nc" id="L1082">			throw new RuntimeException(</span>
<span class="nc" id="L1083">					String.format(&quot;Could not import custom resource with name '%s'.&quot;, customResourceName), e);</span>
<span class="nc" id="L1084">		}</span>
<span class="nc" id="L1085">	}</span>

	/**
	 * deleteCustomResource.
	 * 
	 * @param customResourceName custom resource name
	 * @param customResourceId custom resource id
	 */
	public void deleteCustomResource(final String customResourceName, final String customResourceId) {
		try {
<span class="nc" id="L1095">			deleteCustomResourcePrimitive(customResourceId);</span>
<span class="nc" id="L1096">		} catch (HttpClientErrorException httpClientErrorException) {</span>
<span class="nc" id="L1097">			throw httpClientErrorException;</span>
<span class="nc" id="L1098">		} catch (Exception e) {</span>
<span class="nc" id="L1099">			throw new RuntimeException(String.format(&quot;Could not delete custom resource with name '%s' (id:%s).&quot;,</span>
					customResourceName, customResourceId), e);
<span class="nc" id="L1101">		}</span>
<span class="nc" id="L1102">	}</span>

	// =================================================
	// RESOURCE ACTIONS OPERATIONS
	// =================================================

	/**
	 * getAllResourceActions.
	 * 
	 * @return resourceActionsMap
	 */
	public Map&lt;String, VraNgResourceAction&gt; getAllResourceActions() {
		try {
<span class="nc" id="L1115">			return getAllResourceActionsPrimitive();</span>
<span class="nc" id="L1116">		} catch (Exception e) {</span>
<span class="nc" id="L1117">			logger.error(&quot;Error fetching all resource actions.&quot;, e.getMessage());</span>
<span class="nc" id="L1118">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * importResourceAction.
	 * 
	 * @param resourceActionName resource action name
	 * @param resourceActionJson resource action json
	 * @return id
	 */
	public String importResourceAction(final String resourceActionName, final String resourceActionJson) {
		try {
<span class="nc" id="L1131">			return importResourceActionPrimitive(resourceActionJson);</span>
<span class="nc" id="L1132">		} catch (Exception e) {</span>
<span class="nc" id="L1133">			throw new RuntimeException(</span>
<span class="nc" id="L1134">					String.format(&quot;Could not import resource action with name '%s'.&quot;, resourceActionName),</span>
					e);
		}
	}

	/**
	 * deleteResourceAction.
	 * 
	 * @param resourceActionName resource action name
	 * @param resourceActionId resource action id
	 */
	public void deleteResourceAction(final String resourceActionName, final String resourceActionId) {
		try {
<span class="nc" id="L1147">			deleteResourceActionPrimitive(resourceActionId);</span>
<span class="nc" id="L1148">		} catch (Exception e) {</span>
<span class="nc" id="L1149">			throw new RuntimeException(String.format(&quot;Could not delete resource action with name '%s' and id '%s'.&quot;,</span>
					resourceActionName, resourceActionId), e);
<span class="nc" id="L1151">		}</span>
<span class="nc" id="L1152">	}</span>

	// =================================================
	// ABX OPERATIONS
	// =================================================

	/**
	 * createAbxAction.
	 * 
	 * @param action abx action
	 * @return id
	 */
	public String createAbxAction(final AbxAction action) {
		try {
<span class="nc" id="L1166">			return createAbxActionPrimitive(action);</span>
<span class="nc" id="L1167">		} catch (Exception e) {</span>
<span class="nc" id="L1168">			throw new RuntimeException(String.format(&quot;Could not create ABX action with name '%s'.&quot;, action.getName()),</span>
					e);
		}
	}

	/**
	 * updateAbxAction.
	 * 
	 * @param actionId action id
	 * @param action action
	 * @return actionId
	 */
	public String updateAbxAction(final String actionId, final AbxAction action) {
		try {
<span class="nc" id="L1182">			return updateAbxActionPrimitive(actionId, action);</span>
<span class="nc" id="L1183">		} catch (Exception e) {</span>
<span class="nc" id="L1184">			throw new RuntimeException(String.format(&quot;Could not update ABX action with name '%s'.&quot;, action.getName()),</span>
					e);
		}
	}

	/**
	 * getAbxLastUpdatedVersion.
	 * 
	 * @param action abx action
	 * @return version
	 */
	public AbxActionVersion getAbxLastUpdatedVersion(final AbxAction action) {
		try {
<span class="nc" id="L1197">			return getAbxLastUpdatedVersionPrimitive(action.id);</span>
<span class="nc" id="L1198">		} catch (Exception e) {</span>
<span class="nc" id="L1199">			throw new RuntimeException(</span>
<span class="nc" id="L1200">					String.format(&quot;Could not get latest version of ABX action with name '%s'.&quot;, action.getName()), e);</span>
		}
	}

	/**
	 * createAbxVersion.
	 * 
	 * @param action abx action
	 * @param version version
	 * @return abxVersion
	 */
	public AbxActionVersion createAbxVersion(final AbxAction action, final String version) {
		try {
<span class="nc" id="L1213">			return createAbxVersionPrimitive(action.id, version);</span>
<span class="nc" id="L1214">		} catch (Exception e) {</span>
<span class="nc" id="L1215">			throw new RuntimeException(</span>
<span class="nc" id="L1216">					String.format(&quot;Could not create version of ABX action with name '%s'.&quot;, action.getName()), e);</span>
		}
	}

	/**
	 * releaseAbxVersion.
	 * 
	 * @param action action 
	 * @param versionId version id
	 * @return version
	 */
	public AbxActionVersion releaseAbxVersion(final AbxAction action, final String versionId) {
		try {
<span class="nc" id="L1229">			return releaseAbxVersionPrimitive(action.id, versionId);</span>
<span class="nc" id="L1230">		} catch (Exception e) {</span>
<span class="nc" id="L1231">			throw new RuntimeException(</span>
<span class="nc" id="L1232">					String.format(&quot;Could not release version of ABX action with name '%s'.&quot;, action.getName()), e);</span>
		}
	}

	/**
	 * getAllAbxActions.
	 * 
	 * @return actions
	 */
	public List&lt;AbxAction&gt; getAllAbxActions() {
		try {
<span class="nc" id="L1243">			return getAllAbxActionsPrimitive();</span>
<span class="nc" id="L1244">		} catch (Exception e) {</span>
<span class="nc" id="L1245">			logger.error(&quot;Error fetching all abx actions.&quot;, e.getMessage());</span>
<span class="nc" id="L1246">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * Retrieve ABX Constant by name (name is unique for the constants).
	 * 
	 * @param name of the constant
	 * @return item
	 */
	public AbxConstant getAbxConstant(final String name) {
		try {
<span class="nc" id="L1258">			return getAbxConstantPrimitive(name);</span>
<span class="nc" id="L1259">		} catch (Exception e) {</span>
<span class="nc" id="L1260">			logger.error(&quot;Error fetching abx constant.&quot;, e.getMessage());</span>
<span class="nc" id="L1261">			throw new RuntimeException(e);</span>
		}
	}

	// =================================================
	// POLICIES
	// =================================================

	/**
	 * getContentSharingPolicyIds.
	 * 
	 * @return policies
	 */
	public List&lt;VraNgContentSharingPolicy&gt; getContentSharingPolicies() {
		try {
<span class="nc" id="L1276">			return this.getAllContentSharingPoliciesPrimitive();</span>
<span class="nc" id="L1277">		} catch (Exception e) {</span>
<span class="nc" id="L1278">			logger.error(&quot;Error fetching content sharing policies&quot;, e.getMessage());</span>
<span class="nc" id="L1279">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * createContentSharingPolicy.
	 * 
	 * @param csPolicy content sharing policy
	 */
	public void createContentSharingPolicy(final VraNgContentSharingPolicy csPolicy) {
		try {
<span class="nc" id="L1290">			this.createContentSharingPolicyPrimitive(csPolicy);</span>
<span class="nc" id="L1291">		} catch (Exception e) {</span>
<span class="nc" id="L1292">			throw new RuntimeException(String.format(&quot;Could not create Content Sharing policy with name '%s'.&quot;, csPolicy.getName()), e);</span>
<span class="nc" id="L1293">		}</span>
<span class="nc" id="L1294">	}</span>

	/**
	 * getContentSharingPolicy.
	 * 
	 * @param policyId content sharing policy id
	 * @return policy
	 */
	public VraNgContentSharingPolicy getContentSharingPolicy(final String policyId) {
		try {
<span class="nc" id="L1304">			return this.getContentSharingPolicyPrimitive(policyId);</span>
<span class="nc" id="L1305">		} catch (Exception e) {</span>
<span class="nc" id="L1306">			logger.error(&quot;Error fetching content sharing policy - {}&quot;, e.getMessage());</span>
<span class="nc" id="L1307">			throw new RuntimeException(e);</span>
		}
	}

	/**

	 * getResourceQuotaPolicyIds.
	 * 
	 * @return policies
	 */
	public List&lt;VraNgResourceQuotaPolicy&gt; getResourceQuotaPolicies() {
		try {
<span class="nc" id="L1319">			return this.getAllResourceQuotaPoliciesPrimitive();</span>
<span class="nc" id="L1320">		} catch (Exception e) {</span>
<span class="nc" id="L1321">			logger.error(&quot;Error fetching resource quota policies&quot;, e.getMessage());</span>
<span class="nc" id="L1322">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getLeasePolicies.
	 * 
	 * @return lease policies
	 */
	public List&lt;VraNgLeasePolicy&gt; getLeasePolicies() {
		try {
<span class="nc" id="L1333">			return this.getAllLeasePoliciesPrimitive();</span>
<span class="nc" id="L1334">		} catch (Exception e) {</span>
<span class="nc" id="L1335">			logger.error(&quot;Error fetching lease policies&quot;, e.getMessage());</span>

<span class="nc" id="L1337">			throw new RuntimeException(e);</span>
		}
	}


	/**
	 * createResourceQuotaPolicy.
	 * 
	 * @param rqPolicy resource quota policy
	 */
	public void createResourceQuotaPolicy(final VraNgResourceQuotaPolicy rqPolicy) {
		try {
<span class="nc" id="L1349">			createResourceQuotaPolicyPrimitive(rqPolicy);</span>
<span class="nc" id="L1350">		} catch (Exception e) {</span>
<span class="nc" id="L1351">			throw new RuntimeException(</span>
<span class="nc" id="L1352">					String.format(&quot;Could not create Resource Quota policy with name '%s'.&quot;, rqPolicy.getName()), e);</span>
<span class="nc" id="L1353">		}</span>
<span class="nc" id="L1354">	}</span>

	/**
	 * createLeasePolicy.
	 * 
	 * @param csPolicy lease policy
	 */
	public void createLeasePolicy(final VraNgLeasePolicy csPolicy) {
		try {
<span class="nc" id="L1363">			createLeasePolicyPrimitive(csPolicy);</span>
<span class="nc" id="L1364">		} catch (Exception e) {</span>
<span class="nc" id="L1365">			throw new RuntimeException(</span>
<span class="nc" id="L1366">					String.format(&quot;Could not create lease policy with name '%s'.&quot;, csPolicy.getName()), e);</span>
<span class="nc" id="L1367">		}</span>
<span class="nc" id="L1368">	}</span>

	/**
	 * getResourceQuotaPolicy.
	 * 
	 * @param policyId resource quota policy id
	 * @return policy
	 */
	public VraNgResourceQuotaPolicy getResourceQuotaPolicy(final String policyId) {
		try {
<span class="nc" id="L1378">			return this.getResourceQuotaPolicyPrimitive(policyId);</span>
<span class="nc" id="L1379">		} catch (Exception e) {</span>
<span class="nc" id="L1380">			logger.error(&quot;Error fetching resource quota policy - {}&quot;, e.getMessage());</span>
<span class="nc" id="L1381">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getLeasePolicy.
	 * 
	 * @param policyId lease policy id
	 * @return policy
	 */
	public VraNgLeasePolicy getLeasePolicy(final String policyId) {
		try {
<span class="nc" id="L1393">			return this.getLeasePolicyPrimitive(policyId);</span>
<span class="nc" id="L1394">		} catch (Exception e) {</span>
<span class="nc" id="L1395">			logger.error(&quot;Error fetching lease policy - {}&quot;, e.getMessage());</span>
<span class="nc" id="L1396">			throw new RuntimeException(e);</span>
		}
	}


	/**
	 * getDay2ActionsPolicies.
	 *
	 * @return policies
	 */
	public List&lt;VraNgDay2ActionsPolicy&gt; getDay2ActionsPolicies() {
		try {
<span class="nc" id="L1408">			return this.getAllDay2ActionsPoliciesPrimitive();</span>
<span class="nc" id="L1409">		} catch (Exception e) {</span>
<span class="nc" id="L1410">			logger.error(&quot;Error fetching day 2 actions policies&quot;, e.getMessage());</span>
<span class="nc" id="L1411">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * createDay2ActionsPolicy.
	 *
	 * @param d2aPolicy day 2 actions policy
	 */
	public void createDay2ActionsPolicy(final VraNgDay2ActionsPolicy d2aPolicy) {
		try {
<span class="nc" id="L1422">			createDay2ActionsPolicyPrimitive(d2aPolicy);</span>
<span class="nc" id="L1423">		} catch (Exception e) {</span>
<span class="nc" id="L1424">			throw new RuntimeException(</span>
<span class="nc" id="L1425">				String.format(&quot;Could not create Day 2 Actions policy with name '%s'.&quot;, d2aPolicy.getName()), e);</span>
<span class="nc" id="L1426">		}</span>
<span class="nc" id="L1427">	}</span>

	/**
	 * getDay2ActionsPolicy.
	 *
	 * @param policyId day 2 actions policy id
	 * @return policy
	 */
	public VraNgDay2ActionsPolicy getDay2ActionsPolicy(final String policyId) {
		try {
<span class="nc" id="L1437">			return this.getDay2ActionsPolicyPrimitive(policyId);</span>
<span class="nc" id="L1438">		} catch (Exception e) {</span>
<span class="nc" id="L1439">			logger.error(&quot;Error fetching resource day 2 actions - {}&quot;, e.getMessage());</span>
<span class="nc" id="L1440">			throw new RuntimeException(e);</span>
		}
	}
	/**
	 * getDeploymentLimitPolicies.
	 *
	 * @return policies
	 */
	public List&lt;VraNgDeploymentLimitPolicy&gt; getDeploymentLimitPolicies() {
		try {
<span class="nc" id="L1450">			return this.getAllDeploymentLimitPoliciesPrimitive();</span>
<span class="nc" id="L1451">		} catch (Exception e) {</span>
<span class="nc" id="L1452">			logger.error(&quot;Error fetching deployemnt limit policies&quot;, e.getMessage());</span>
<span class="nc" id="L1453">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * createDeploymentLimitPolicy.
	 *
	 * @param policy day 2 actions policy
	 */
	public void createDeploymentLimitPolicy(final VraNgDeploymentLimitPolicy policy) {
		try {
<span class="nc" id="L1464">			createDeploymentLimitPolicyPrimitive(policy);</span>
<span class="nc" id="L1465">		} catch (Exception e) {</span>
<span class="nc" id="L1466">			throw new RuntimeException(</span>
<span class="nc" id="L1467">				String.format(&quot;Could not create Deployment Limit with name '%s'.&quot;, policy.getName()), e);</span>
<span class="nc" id="L1468">		}</span>
<span class="nc" id="L1469">	}</span>

	/**
	 * getDeploymentLimitPolicy.
	 *
	 * @param policyId day 2 actions policy id
	 * @return policy
	 */
	public VraNgDeploymentLimitPolicy getDeploymentLimitPolicy(final String policyId) {
		try {
<span class="nc" id="L1479">			return this.getDeploymentLimitPolicyPrimitive(policyId);</span>
<span class="nc" id="L1480">		} catch (Exception e) {</span>
<span class="nc" id="L1481">			logger.error(&quot;Error fetching deployment limit policy - {}&quot;, e.getMessage());</span>
<span class="nc" id="L1482">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * getApprovalPolicies.
	 *
	 * @return policies
	 */
	public List&lt;VraNgApprovalPolicy&gt; getApprovalPolicies() {
		try {
<span class="nc" id="L1493">			return this.getAllApprovalPoliciesPrimitive();</span>
<span class="nc" id="L1494">		} catch (Exception e) {</span>
<span class="nc" id="L1495">			logger.error(&quot;Error fetching Approval policies&quot;, e.getMessage());</span>
<span class="nc" id="L1496">			throw new RuntimeException(e);</span>
		}
	}

	/**
	 * createApprovalPolicy.
	 *
	 * @param policy  policy to be created or updated.
	 */
	public void createApprovalPolicy(final VraNgApprovalPolicy policy) {
		try {
<span class="nc" id="L1507">			createApprovalPolicyPrimitive(policy);</span>
<span class="nc" id="L1508">		} catch (Exception e) {</span>
<span class="nc" id="L1509">			throw new RuntimeException(</span>
<span class="nc" id="L1510">				String.format(&quot;Could not create Approval policy with name '%s'.&quot;, policy.getName()), e);</span>
<span class="nc" id="L1511">		}</span>
<span class="nc" id="L1512">	}</span>

	/**
	 * getApprovalPolicy.
	 *
	 * @param policyId policy id
	 * @return policy
	 */
	public VraNgApprovalPolicy getApprovalPolicy(final String policyId) {
		try {
<span class="nc" id="L1522">			return this.getApprovalPolicyPrimitive(policyId);</span>
<span class="nc" id="L1523">		} catch (Exception e) {</span>
<span class="nc" id="L1524">			logger.error(&quot;Error fetching approval policy - {}&quot;, e.getMessage());</span>
<span class="nc" id="L1525">			throw new RuntimeException(e);</span>
		}
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>